(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(19).concat([function(e,t,c){},,,,,,,,,,,,function(e,t,c){},,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(25),a=c.n(n),s=c(6),r=c(3),i=(c(31),c(0)),o=function(){var e=function(){window.scrollTo({top:0})};return Object(i.jsxs)("footer",{className:"footer",children:[Object(i.jsx)(s.b,{to:"/",className:"icon icon--logo",onClick:e}),Object(i.jsxs)("div",{className:"container footer__link-container",children:[Object(i.jsx)("a",{className:"text text--small text--gray",href:"https://github.com/Pa1eOrc/react_phone-catalog",target:"_blank",rel:"noopener noreferrer",children:"Github"}),Object(i.jsx)("a",{href:"/#",className:"text text--small text--gray",children:"Contacts"}),Object(i.jsx)("a",{href:"/#",className:"text text--small text--gray",children:"Rights"})]}),Object(i.jsxs)("div",{className:"footer__button-container",children:[Object(i.jsx)("p",{className:"text text--small text--gray",children:"Back to top"}),Object(i.jsx)("button",{className:"footer__button",type:"button",title:"Back to top",onClick:e,children:Object(i.jsx)("span",{className:"icon icon--arrow"})})]})]})},l=c(4),j=c(7),u=c.n(j),d=c(1),b=c.n(d),x=c(26),m=c.n(x),p=c(9);function h(e,t){return e.filter((function(e){return e.type===t}))}function O(e){return(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch("https://mate-academy.github.io/react_phone-catalog/api"+e)})).then((function(e){return e.json()}));var t}var _=function(e){return O(e)};function f(){return _("/products.json")}var g=function(e){var t=function(e){return e.filter((function(e){return e.discount>0}))}(e),c=function(e){return e.sort((function(e,t){var c=e.price*e.discount/100,n=t.price*t.discount/100;return Number(c)-Number(n)}))}(t);return c},N=c(8),v=c(5),y=c.n(v),w="/products.json";function k(){return P.apply(this,arguments)}function P(){return(P=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(w);case 2:return t=e.sent,e.abrupt("return",h(t,"phone"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S="/products.json";function C(){return A.apply(this,arguments)}function A(){return(A=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(S);case 2:return t=e.sent,e.abrupt("return",h(t,"tablet"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L="/products.json";function E(){return I.apply(this,arguments)}function I(){return(I=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(L);case 2:return t=e.sent,e.abrupt("return",h(t,"accessory"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){var c=Object(d.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(n){return t}})),n=Object(l.a)(c,2),a=n[0],s=n[1];return[a,function(t){localStorage.setItem(e,JSON.stringify(t)),s(t)}]}var q=function(){var e=Object(N.a)(y.a.mark((function e(t,c,n,a,s){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),n(""),e.prev=2,e.next=5,t();case 5:r=e.sent,c(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching data:",e.t0),n("Error fetching ".concat(s));case 13:return e.prev=13,a(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(t,c,n,a,s){return e.apply(this,arguments)}}(),D=function(){var e=Object(N.a)(y.a.mark((function e(t,c,n,a,s,r,i,o){var l,j;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=19;break}return r(!0),s(""),e.prev=3,e.next=6,_("/products/".concat(t,".json"));case 6:l=e.sent,c(l),(j=i.find((function(e){return e.id===t})))?(a(!1),n(j)):a(!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Error fetching data:",e.t0),s("Error fetching ".concat(o));case 16:return e.prev=16,r(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(t,c,n,a,s,r,i,o){return e.apply(this,arguments)}}(),R=b.a.createContext({products:[],hotPriceProducts:[],newBrandProducts:[],links:[],sortDropdown:{name:"",options:{},isOpen:!1},perPageDropdown:{name:"",options:{},isOpen:!1},page:0,sort:"",query:"",perPage:"",setPerPage:function(){return 0},setPageCount:function(){return[]},setStartIndex:function(){return 0},phones:[],isLoading:!0,tablets:[],accessories:[],setCurrentOption:function(){return""},productDetails:{android:{os:""},battery:{type:""},camera:{primary:""},description:"",display:{screenResolution:""},id:"",images:[],name:""},selectedProductId:"",setSelectedProductId:function(){return""},selectedProduct:{type:"",price:0,discount:0,age:0,id:"",screen:"",capacity:"",ram:"",name:""},getArrayLength:function(){return 0},carts:[],setCarts:function(){return[]},randomProducts:[],favourites:[],setFavourites:function(){return[]},isProductAdded:function(){return!1},getArrayUpdates:function(){return[]},isProductNotFound:!1,isError:""}),T=function(e){var t=e.children,c=Object(d.useState)([]),n=Object(l.a)(c,2),a=n[0],o=n[1],j=Object(s.d)(),u=Object(l.a)(j,1)[0],b=Object(r.n)(),x=Object(d.useState)([]),m=Object(l.a)(x,2),h=m[0],O=m[1],_=Object(d.useState)([]),N=Object(l.a)(_,2),v=N[0],y=N[1],w=Object(d.useState)([]),P=Object(l.a)(w,2),S=P[0],A=P[1],L=Object(d.useState)([]),I=Object(l.a)(L,2),T=I[0],B=I[1],M=Object(d.useState)([]),K=Object(l.a)(M,2),V=K[0],$=K[1],J=Object(d.useState)(!0),U=Object(l.a)(J,2),Y=U[0],H=U[1],W=Object(d.useState)(""),G=Object(l.a)(W,2),Q=G[0],X=G[1];Object(d.useEffect)((function(){q(f,o,X,H,"products")}),[]),Object(d.useEffect)((function(){O(g(a)),y(function(e){var t=function(e){return e.filter((function(e){return 0===e.discount}))}(e),c=function(e){return e.sort((function(e,t){return t.price-e.price}))}(t);return c}(a))}),[a]),Object(d.useEffect)((function(){"/phones"===b.pathname&&q(k,B,X,H,"phones"),"/tablets"===b.pathname&&q(C,A,X,H,"tablets"),"/accessories"===b.pathname&&q(E,$,X,H,"accessories")}),[b.pathname]);var z=Object(d.useState)(""),Z=Object(l.a)(z,2),ee=Z[0],te=Z[1],ce=Object(d.useState)({android:{os:""},battery:{type:""},camera:{primary:""},description:"",display:{screenResolution:""},id:"",images:[],name:""}),ne=Object(l.a)(ce,2),ae=ne[0],se=ne[1],re=Object(d.useState)({type:"",price:0,discount:0,age:0,id:"",screen:"",capacity:"",ram:"",name:""}),ie=Object(l.a)(re,2),oe=ie[0],le=ie[1],je=Object(d.useState)([]),ue=Object(l.a)(je,2),de=ue[0],be=ue[1],xe=Object(d.useState)(!1),me=Object(l.a)(xe,2),pe=me[0],he=me[1];Object(d.useEffect)((function(){D(ee,se,le,he,X,H,a,"product details")}),[ee,a]),Object(d.useEffect)((function(){be(function(e,t,c){var n=[],a=function(e,t){return e.filter((function(e){return e.id!==t}))}(e,t);if(a.length<c)n.push.apply(n,Object(p.a)(a));else{var s=a.sort((function(){return Math.random()-.5}));n.push.apply(n,Object(p.a)(s.slice(0,c)))}return n}(a,ee,8))}),[ee,a,8]);var Oe=+(u.get("page")||1),_e=u.get("sort")||"age",fe=u.get("perPage")||"16",ge=u.get("query")||"";Object(d.useEffect)((function(){H(!0),setTimeout((function(){H(!1)}),200)}),[Oe,fe,_e]);var Ne=F("cart",[]),ve=Object(l.a)(Ne,2),ye=ve[0],we=ve[1],ke=F("favourites",[]),Pe=Object(l.a)(ke,2),Se=Pe[0],Ce=Pe[1];function Ae(e,t){return e.some((function(e){return e.id===t}))}var Le={products:a,hotPriceProducts:h,newBrandProducts:v,links:["phones","tablets","accessories"],sortDropdown:{name:"sort",options:{Newest:"age",Alphabetically:"name",Cheapest:"price"},isOpen:!1},perPageDropdown:{name:"perPage",options:{4:"4",8:"8",16:"16",All:"all"},isOpen:!1},page:Oe,sort:_e,query:ge,perPage:fe,setPerPage:function(e){return"all"===fe?e:+fe},setPageCount:function(e,t){return Array.from({length:Math.ceil(e/t)},(function(e,t){return t+1}))},setStartIndex:function(e){return(Oe-1)*e},isLoading:Y,phones:T,tablets:S,accessories:V,setCurrentOption:function(e,t){return Object.keys(e).find((function(c){return e[c]===t}))||""},productDetails:ae,selectedProductId:ee,setSelectedProductId:te,selectedProduct:oe,getArrayLength:function(e){return e.length-4},carts:ye,setCarts:we,randomProducts:de,favourites:Se,setFavourites:Ce,isProductAdded:Ae,getArrayUpdates:function(e,t){return Ae(e,t.id)?e.filter((function(e){return e.id!==t.id})):[].concat(Object(p.a)(e),[t])},isProductNotFound:pe,isError:Q};return Object(i.jsx)(R.Provider,{value:Le,children:t})},B=function(){return b.a.useContext(R)};function M(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];null===a?c.delete(n):c.set(n,a)})),(t.sort||t.perPage)&&c.delete("page"),c.toString()}c(35);var K=function(){var e=B(),t=e.carts,c=e.favourites,n=e.selectedProductId,a=e.query,o=Object(r.n)(),j="/"===o.pathname,b="/cart"===o.pathname,x=o.pathname==="/phones/:".concat(n),p=o.pathname.split("/")[1],h=function(e){var t=e.isActive;return u()("navbar__link",{"navbar__link--active":t})},O=Object(s.d)(),_=Object(l.a)(O,2),f=_[0],g=_[1],N=Object(d.useState)(a),v=Object(l.a)(N,2),y=v[0],w=v[1],k=Object(d.useCallback)(m()((function(e){var t=M(f,e);g(t)}),1e3),[f,o.pathname]);return Object(d.useEffect)((function(){w(a)}),[a]),Object(i.jsxs)("header",{className:"header",children:[Object(i.jsxs)("div",{className:"header__container",children:[Object(i.jsx)("div",{className:"header__logo-container",children:Object(i.jsx)(s.c,{to:"/",children:Object(i.jsx)("span",{className:"icon icon--logo"})})}),!b&&Object(i.jsxs)("nav",{className:"navbar",children:[Object(i.jsx)("div",{className:"navbar__container",children:Object(i.jsx)(s.c,{to:"/",className:h,children:"Home"})}),Object(i.jsx)("div",{className:"navbar__container",children:Object(i.jsx)(s.c,{to:"/phones",className:h,children:"Phones"})}),Object(i.jsx)("div",{className:"navbar__container",children:Object(i.jsx)(s.c,{to:"/tablets",className:h,children:"Tablets"})}),Object(i.jsx)("div",{className:"navbar__container",children:Object(i.jsx)(s.c,{to:"/accessories",className:h,children:"Accessories"})})]})]}),Object(i.jsxs)("div",{className:"header__container",children:[!b&&!j&&!x&&Object(i.jsxs)("label",{className:"header__search-container",children:[Object(i.jsx)("input",{type:"search",placeholder:"Search in ".concat(p,"..."),className:"header__search",value:y,onChange:function(e){var t={query:e.target.value||null};w(e.target.value),k(t)}}),y?Object(i.jsx)("button",{onClick:function(){g(M(f,{query:null})),w(a)},type:"submit",title:"clear imput",className:"header__clear-button","data-cy":"searchDelete",children:Object(i.jsx)("span",{className:"icon icon--cross"})}):Object(i.jsx)("span",{className:"icon icon--search"})]}),!b&&Object(i.jsx)("div",{className:"navbar__container navbar__container--icons",children:Object(i.jsx)(s.c,{to:"/favourites",className:h,children:Object(i.jsxs)("div",{className:"navbar__icon-container",children:[Object(i.jsx)("span",{className:"icon icon--favourites"}),c.length>0&&Object(i.jsx)("span",{className:"navbar__quantity",children:c.length})]})})}),Object(i.jsx)("div",{className:"navbar__container navbar__container--icons",children:Object(i.jsx)(s.c,{to:"/cart",className:h,children:Object(i.jsxs)("div",{className:"navbar__icon-container",children:[Object(i.jsx)("span",{className:"icon icon--cart"}),t.length>0&&Object(i.jsx)("span",{className:"navbar__quantity",children:t.length})]})})})]})]})},V=(c(36),function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(K,{}),Object(i.jsx)("main",{className:"main",children:Object(i.jsx)(r.b,{})}),Object(i.jsx)(o,{})]})}),$=(c(37),function(){var e=B().links,t=Object(d.useState)(0),c=Object(l.a)(t,2),n=c[0],a=c[1],r=e.length,o=function(e){"next"===e?a((function(e){return e<r-1?e+1:0})):"prev"===e&&a((function(e){return 0===e?r-1:e-1}))},j=function(){o("next")};return Object(d.useEffect)((function(){var e=setInterval(j,5e3);return function(){return clearInterval(e)}}),[n]),Object(i.jsxs)("section",{className:"banner",children:[Object(i.jsxs)("div",{className:"banner__carousel-container",children:[Object(i.jsx)("button",{type:"button",className:"banner__arrow",title:"arrow",onClick:function(){return o("prev")},children:Object(i.jsx)("span",{className:"icon icon--arrow icon--prev"})}),Object(i.jsx)("div",{className:"banner__carousel",children:e.map((function(e,t){return Object(i.jsx)(s.b,{to:"/".concat(e),className:"banner__link\n              ".concat(t===n?"banner__link--active":"","\n              ").concat(t===n+1?"banner__link--next":"","\n              ").concat(t===n-1?"banner__link--prev":"","\n              ").concat(0===n&&t===r-1?"banner__link--prev":"","\n              ").concat(n===r-1&&0===t?"banner__link--next":"","\n              "),children:Object(i.jsx)("img",{className:"banner__img",src:"/_new/img/banner-".concat(e,".png"),alt:"".concat(e," banner")})},e)}))}),Object(i.jsx)("button",{type:"button",className:"banner__arrow",title:"arrow",onClick:function(){return o("next")},children:Object(i.jsx)("span",{className:"icon icon--arrow icon--next"})})]}),Object(i.jsxs)("div",{className:"banner__dot-container container",children:[Object(i.jsx)("span",{className:u()("banner__dot",{"banner__dot--active":0===n})}),Object(i.jsx)("span",{className:u()("banner__dot",{"banner__dot--active":1===n})}),Object(i.jsx)("span",{className:u()("banner__dot",{"banner__dot--active":2===n})})]})]})}),J=(c(38),function(e){var t=e.name,c=e.product,n=B(),a=n.getArrayUpdates,s=n.isProductAdded,r=n.carts,o=n.setCarts,l=n.favourites,j=n.setFavourites,d=s(r,c.id),b=s(l,c.id),x=function(e,t){e.preventDefault();var n=[];"cart"===t&&(n=a(r,c),o(n)),"favourites"===t&&(n=a(l,c),j(n))};return Object(i.jsxs)("div",{className:"button",children:[Object(i.jsx)("button",{type:"submit",className:u()("button__add",{"button__add--selected":d},{"button__add--details":"details"===t}),onClick:function(e){return x(e,"cart")},children:d?"Added to cart":"Add to cart"}),Object(i.jsx)("button",{type:"submit",title:"favourites","data-cy":"addToFavorite",className:u()("button__fav",{"button__fav--details":"details"===t}),onClick:function(e){return x(e,"favourites")},children:Object(i.jsx)("span",{className:u()("icon","icon--favourites",{"icon--favourites-red":b})})})]})}),U=(c(39),function(e){var t=e.product,c=t.name,n=t.id,a=t.price,o=t.discount,j=t.screen,u=t.capacity,b=t.ram,x=t.type,m=Object(d.useMemo)((function(){return a-a*o/100}),[a,o]),p=Object(s.d)(),h=Object(l.a)(p,1)[0],O="/favourites"===Object(r.n)().pathname?"/favourites/".concat(n):"/".concat(x,"s/").concat(n);return Object(i.jsxs)(s.b,{to:{pathname:O},state:{search:h.toString()},"data-cy":"cardsContainer",className:"product-card",children:[Object(i.jsx)("img",{className:"product-card__img",src:"img/products/".concat(n,".0.jpg"),alt:n}),Object(i.jsxs)("div",{className:"product-card__container",children:[Object(i.jsx)("p",{className:"text product-card__title",children:c}),Object(i.jsxs)("div",{className:"product-card__price-container",children:[Object(i.jsx)("h2",{className:"text text--h2",children:"$".concat(m)}),o>0&&Object(i.jsx)("h2",{className:"text text--h2-strikethrough",children:"$".concat(a)})]}),Object(i.jsxs)("div",{className:"product-card__info-container",children:[Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("p",{className:"text text--small text--gray",children:"Screen"}),Object(i.jsx)("p",{className:"text text--small",children:j})]}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("p",{className:"text text--small text--gray",children:"Capacity"}),Object(i.jsx)("p",{className:"text text--small",children:u})]}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("p",{className:"text text--small text--gray",children:"RAM"}),Object(i.jsx)("p",{className:"text text--small",children:b})]})]}),Object(i.jsx)(J,{name:"cart",product:t})]})]})}),Y=(c(40),function(e){var t=e.products,c=e.currentSlide,n=e.id,a=document.querySelector(".carousel__item"),s=(null===a||void 0===a?void 0:a.clientWidth)||0;return Object(d.useEffect)((function(){document.querySelectorAll(".carousel__item--".concat(n)).forEach((function(e){e.style.transform="translateX(-".concat(c*s,"px)")}))}),[c]),Object(i.jsx)("ul",{className:"carousel",children:t.map((function(e){return Object(i.jsx)("li",{className:"\n            carousel__item\n            carousel__item--".concat(n),children:Object(i.jsx)(U,{product:e})},e.id)}))})}),H=(c(41),["prev","next"]),W=function(e){var t=e.currentSlide,c=e.setCurrentSlide,n=e.length,a=Object(d.useMemo)((function(){return 0===t}),[t]),s=Object(d.useMemo)((function(){return t===n}),[t,n]);return Object(i.jsx)("div",{className:"product-slider container",children:H.map((function(e){return Object(i.jsx)("button",{type:"button",title:"move ".concat("prev"===e?"back":"forward"),className:u()("product-slider__button",{"product-slider__button--disabled":"prev"===e?a:s}),onClick:function(){return function(e){var a=t;"prev"===e&&t>0?a=t-1:"next"===e&&t<n&&(a=t+1),c(a)}(e)},children:Object(i.jsx)("span",{className:"\n              icon\n              icon--arrow\n              icon--".concat(e,"\n              ").concat("prev"===e&&a?"icon--arrow-dis":"","\n              ").concat("next"===e&&s?"icon--arrow-dis":"","\n            ")})},e)}))})},G=function(){var e=B(),t=e.newBrandProducts,c=e.getArrayLength,n=Object(d.useState)(0),a=Object(l.a)(n,2),s=a[0],r=a[1],o=c(t);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{className:"text text--h1",children:"Brand new models"}),Object(i.jsx)(W,{currentSlide:s,setCurrentSlide:r,length:o})]}),Object(i.jsx)(Y,{products:t,currentSlide:s,id:"brand-new"})]})},Q=(c(42),function(){var e=B(),t=e.links,c=e.products,n=function(e){var t="",n="";"tablets"===e&&(t="Tablets",n="tablet"),"accessories"===e&&(t="Accessories",n="accessory"),"phones"===e&&(t="Mobile phones",n="phone");var a=function(e){return c.filter((function(t){return t.type===e}))}(n);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{className:"text text--h3",children:t}),Object(i.jsx)("p",{className:"text text--gray",children:"".concat(a.length," models")})]})};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{className:"text text--h1",children:"Shop by category"}),Object(i.jsx)("ul",{className:"category__container",children:t.map((function(e){return Object(i.jsxs)("li",{"data-cy":"categoryLinksContainer",className:"category__link-container",children:[Object(i.jsx)(s.b,{to:"/".concat(e),className:"category__link category__link--".concat(e),children:Object(i.jsx)("img",{src:"/_new/img/category-".concat(e,".png"),alt:"category"})}),Object(i.jsx)("div",{className:"category__title-container",children:n(e)})]},e)}))})]})}),X=function(){var e=B(),t=e.hotPriceProducts,c=e.getArrayLength,n=Object(d.useState)(0),a=Object(l.a)(n,2),s=a[0],r=a[1],o=c(t);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{className:"text text--h1",children:"Hot prices"}),Object(i.jsx)(W,{currentSlide:s,setCurrentSlide:r,length:o})]}),Object(i.jsx)(Y,{products:t,currentSlide:s,id:"hot-price"})]})},z=(c(43),function(){return Object(i.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(i.jsx)("div",{className:"Loader__content"})})}),Z=(c(44),function(){var e=B(),t=e.isLoading,c=e.isError;return Object(i.jsx)("div",{className:"home-page",children:t?Object(i.jsx)(z,{}):Object(i.jsx)(i.Fragment,{children:c?Object(i.jsx)("h1",{children:c}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("section",{className:"home-page__banner banner",children:Object(i.jsx)($,{})}),Object(i.jsx)("section",{className:"home-page__hot-price",children:Object(i.jsx)(X,{})}),Object(i.jsx)("section",{className:"home-page__category category",children:Object(i.jsx)(Q,{})}),Object(i.jsx)("section",{className:"home-page__brand-new",children:Object(i.jsx)(G,{})})]})})})}),ee=c(10),te=(c(45),function(e){var t=e.dropdown,c=e.currentValue,n=e.queryKey,a=e.name,r=t.name,o=t.options,j=t.isOpen,b=B().setCurrentOption,x=Object(d.useState)(j),m=Object(l.a)(x,2),p=m[0],h=m[1],O=Object(d.useRef)(null),_=Object(s.d)(),f=Object(l.a)(_,1)[0],g=b(o,c);Object(d.useEffect)((function(){var e=function(e){O.current&&!O.current.contains(e.target)&&h(!1)};p?document.addEventListener("click",e):document.removeEventListener("click",e)}),[p]);var N=function(){h(!1)};return Object(i.jsxs)("div",{ref:O,className:u()("dropdown",{"dropdown--active":p}),children:[Object(i.jsx)("p",{className:"text text--small text--gray",children:a}),Object(i.jsxs)("button",{type:"button",className:"\n          dropdown__trigger\n          dropdown__trigger--".concat(r),onClick:function(){h(!p)},children:[g,Object(i.jsx)("span",{className:u()("icon","icon--arrow-dis",{"icon--down":!p})})]}),Object(i.jsx)("div",{className:"dropdown__content",children:Object(i.jsx)("ul",{className:"dropdown__list",children:Object.entries(o).map((function(e){var t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(i.jsx)("li",{className:"dropdown__item",children:Object(i.jsx)(s.b,{to:{search:M(f,Object(ee.a)({},n,r))},className:u()("dropdown__link",{"dropdown__link--selected":r===c}),onClick:N,children:a})},r)}))})})]})}),ce=(c(46),function(e){var t=e.currentPage,c=e.pageCount,n=e.totalLength,a=Object(s.d)(),r=Object(l.a)(a,1)[0],o=Object(d.useMemo)((function(){return[1===t,t===c.length,t>1?t-1:t,t<n?t+1:t]}),[t,c.length,n]),j=Object(l.a)(o,4),b=j[0],x=j[1],m=j[2],p=j[3];return Object(i.jsxs)("ul",{className:"pagination","data-cy":"pagination",children:[Object(i.jsx)("li",{className:u()("pagination__item",{"pagination__item--disabled":b}),children:Object(i.jsx)(s.b,{to:{search:M(r,{page:m.toString()})},className:"pagination__link","data-cy":"paginationLeft",children:Object(i.jsx)("span",{className:u()("icon","icon--prev",{"icon--arrow":!b,"icon--arrow-dis":b})})})}),c.map((function(e){return Object(i.jsx)("li",{className:"pagination__item",children:Object(i.jsx)(s.b,{to:{search:M(r,{page:e.toString()})},className:u()("pagination__link",{"pagination__link--active":e===t}),children:e})},e)})),Object(i.jsx)("li",{className:u()("pagination__item",{"pagination__item--disabled":x}),children:Object(i.jsx)(s.b,{to:{search:M(r,{page:p.toString()})},className:"pagination__link","data-cy":"paginationRight",children:Object(i.jsx)("span",{className:u()("icon","icon--next",{"icon--arrow":!x,"icon--arrow-dis":x})})})})]})}),ne=(c(47),function(e){var t=e.productsForCurrentPage;return Object(i.jsx)("ul",{className:"product-list","data-cy":"productList",children:t.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)(U,{product:e})},e.id)}))})}),ae=function(e){var t=e.category;return Object(i.jsx)("h3",{children:"".concat(t," not found")})};function se(e,t,c){var n=[];switch(t){case"age":n=Object(p.a)(e).sort((function(e,t){return e.age-t.age}));break;case"name":n=Object(p.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":n=Object(p.a)(e).sort((function(e,t){return e.price-e.price*e.discount/100-(t.price-t.price*t.discount/100)}));break;default:n=e}return c&&(n=n.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}))),n}var re=function(){return Object(i.jsx)("h3",{children:"NoSearchResults"})},ie=(c(48),function(e){var t=e.linkName;return Object(i.jsxs)("div",{className:"bread-crumbs",children:[Object(i.jsx)(s.b,{to:"/",children:Object(i.jsx)("span",{className:"icon icon--home"})}),Object(i.jsx)("span",{className:"icon icon--arrow-dis icon--next"}),Object(i.jsx)("p",{className:"text text--small text--gray",children:t})]})}),oe=(c(19),function(){var e=B(),t=e.sortDropdown,c=e.perPageDropdown,n=e.page,a=e.sort,s=e.query,r=e.perPage,o=e.setPerPage,l=e.setPageCount,j=e.setStartIndex,u=e.isLoading,d=e.phones,b=e.isError,x=se(d,a,s),m=x.length,p=o(m),h=l(m,p),O=j(p),_=x.slice(O,O+p);return Object(i.jsxs)("section",{className:"page",children:[Object(i.jsx)(ie,{linkName:"Phones"}),Object(i.jsx)("h1",{className:"text text--h1 page__title",children:"Mobile phones"}),Object(i.jsx)("p",{className:"text text--gray",children:"".concat(d.length," models")}),Object(i.jsxs)("div",{className:"page__dropdown-container",children:[Object(i.jsx)(te,{dropdown:t,currentValue:a,queryKey:t.name,name:"Sort by"},t.name),Object(i.jsx)(te,{dropdown:c,currentValue:r.toString(),queryKey:c.name,name:"Items on page"},c.name)]}),u?Object(i.jsx)(z,{}):Object(i.jsx)("div",{className:"page__main-container",children:u||0!==d.length?!u&&b?Object(i.jsx)("h1",{children:b}):s&&0===x.length?Object(i.jsx)(re,{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(ne,{productsForCurrentPage:_}),h.length>1&&Object(i.jsx)(ce,{currentPage:n,pageCount:h,totalLength:m})]}):Object(i.jsx)(ae,{category:"Phones"})})]})}),le=function(){var e=B(),t=e.sortDropdown,c=e.perPageDropdown,n=e.page,a=e.sort,s=e.query,r=e.perPage,o=e.setPerPage,l=e.setPageCount,j=e.setStartIndex,u=e.isLoading,d=e.tablets,b=e.isError,x=se(d,a,s),m=x.length,p=o(m),h=l(m,p),O=j(p),_=x.slice(O,O+p);return Object(i.jsxs)("section",{className:"page",children:[Object(i.jsx)(ie,{linkName:"Tablets"}),Object(i.jsx)("h1",{className:"text text--h1 page__title",children:"Tablets"}),Object(i.jsx)("p",{className:"text text--gray",children:"".concat(d.length," models")}),Object(i.jsxs)("div",{className:"page__dropdown-container",children:[Object(i.jsx)(te,{dropdown:t,currentValue:a,queryKey:t.name,name:"Sort by"},t.name),Object(i.jsx)(te,{dropdown:c,currentValue:r.toString(),queryKey:c.name,name:"Items on page"},c.name)]}),u?Object(i.jsx)(z,{}):Object(i.jsx)("div",{className:"page__main-container",children:u||0!==d.length?!u&&b?Object(i.jsx)("h1",{children:b}):s&&0===x.length?Object(i.jsx)(re,{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(ne,{productsForCurrentPage:_}),h.length>1&&Object(i.jsx)(ce,{currentPage:n,pageCount:h,totalLength:m})]}):Object(i.jsx)(ae,{category:"Tablets"})})]})},je=function(){var e=B(),t=e.sortDropdown,c=e.perPageDropdown,n=e.page,a=e.sort,s=e.query,r=e.perPage,o=e.setPerPage,l=e.setPageCount,j=e.setStartIndex,u=e.isLoading,d=e.accessories,b=e.isError,x=se(d,a,s),m=x.length,p=o(m),h=l(m,p),O=j(p),_=x.slice(O,O+p);return Object(i.jsxs)("section",{className:"page",children:[Object(i.jsx)(ie,{linkName:"Accessories"}),Object(i.jsx)("h1",{className:"text text--h1 page__title",children:"Accessories"}),Object(i.jsx)("p",{className:"text text--gray",children:"".concat(d.length," models")}),Object(i.jsxs)("div",{className:"page__dropdown-container",children:[Object(i.jsx)(te,{dropdown:t,currentValue:a,queryKey:t.name,name:"Sort by"},t.name),Object(i.jsx)(te,{dropdown:c,currentValue:r.toString(),queryKey:c.name,name:"Items on page"},c.name)]}),u?Object(i.jsx)(z,{}):Object(i.jsx)("div",{className:"page__main-container",children:u||0!==d.length?!u&&b?Object(i.jsx)("h1",{children:b}):s&&0===x.length?Object(i.jsx)(re,{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(ne,{productsForCurrentPage:_}),h.length>1&&Object(i.jsx)(ce,{currentPage:n,pageCount:h,totalLength:m})]}):Object(i.jsx)(ae,{category:"Accessories"})})]})},ue=function(){return Object(i.jsx)("h1",{className:"title",children:"Page not found"})},de=function(){var e=B(),t=e.favourites,c=e.query,n=se(t,"",c),a=t.length;return Object(i.jsxs)("section",{className:"page",children:[Object(i.jsx)(ie,{linkName:"Favourites"}),Object(i.jsx)("h1",{className:"text text--h1 page__title",children:"Favourites"}),a>0&&Object(i.jsx)("p",{className:"text text--gray",children:1===a?"1 item":"".concat(a," items")}),Object(i.jsx)("div",{className:"page__fav-container",children:0===a?"You dont have any favourites":c&&0===n.length?Object(i.jsx)(re,{}):Object(i.jsx)(ne,{productsForCurrentPage:n})})]})},be=(c(49),function(e){var t=e.cart,c=e.handleCartAction,n=t.id,a=t.name,s=t.price,r=t.discount,o=t.count,l=Object(d.useMemo)((function(){return s-s*r/100}),[s,r])*o;return Object(i.jsxs)("section",{className:"cart",children:[Object(i.jsx)("div",{className:"cart__cross-container",children:Object(i.jsx)("button",{type:"button",title:"delite item",className:"cart__button cart__button--cross","data-cy":"cartDeleteButton",onClick:function(){return c(n,"deleteAll")},children:Object(i.jsx)("span",{className:"icon icon--cross"})})}),Object(i.jsx)("div",{className:"cart__img-container",children:Object(i.jsx)("img",{src:"img/products/".concat(n,".0.jpg"),alt:"product",className:"cart__img"})}),Object(i.jsx)("div",{className:"cart__name-container",children:Object(i.jsx)("p",{className:"text",children:a})}),Object(i.jsxs)("div",{className:"cart__button-container",children:[Object(i.jsx)("button",{type:"button",title:"minus",className:u()("cart__button",{"cart__button--minus":1===o}),onClick:function(){return c(n,"delete")},children:Object(i.jsx)("span",{className:u()("icon",{"icon--minus":o>1},{"icon--minus-gray":1===o})})}),Object(i.jsx)("div",{className:"cart__count",children:Object(i.jsx)("p",{className:"text",children:o})}),Object(i.jsx)("button",{type:"button",title:"plus",className:"cart__button cart__button--plus",onClick:function(){return c(n,"add")},children:Object(i.jsx)("span",{className:"icon icon--plus"})})]}),Object(i.jsx)("p",{className:"text text--h2 cart__price",children:"$".concat(l)})]},n)});c(50),c(51);var xe=function(){var e=Object(r.p)();return Object(i.jsxs)("div",{className:"back",children:[Object(i.jsx)("span",{className:"icon icon--arrow icon--prev"}),Object(i.jsx)("button",{type:"submit",onClick:function(){e(-1)},className:"text text--small text--gray back__button","data-cy":"backButton",children:"Back"})]})},me=function(){var e=B().setCarts,t=B().carts,c=function(e){var t={};return e.forEach((function(e){var c=e.id,n=e.price,a=e.discount,s=e.name;t[c]?t[c].count+=1:t[c]={id:c,count:1,price:n,discount:a,name:s}})),Object.keys(t).sort().map((function(e){return t[e]}))}(t),n=function(e){return e.map((function(e){return e.price-e.price*e.discount/100})).reduce((function(e,t){return e+t}),0)}(t),a=Object(d.useState)(!1),s=Object(l.a)(a,2),r=s[0],o=s[1],j=function(c,n){var a,s,r=Object(p.a)(t);switch(n){case"add":(a=t.find((function(e){return e.id===c})))&&r.push(a);break;case"delete":-1!==(s=r.findIndex((function(e){return e.id===c})))&&r.splice(s,1);break;case"deleteAll":r=r.filter((function(e){return e.id!==c}))}e(r)};return Object(i.jsxs)("section",{className:"carts",children:[Object(i.jsx)(xe,{}),Object(i.jsx)("h1",{className:"carts__title",children:0===t.length?"Your cart is empty":"Cart"}),t.length>0&&Object(i.jsxs)("div",{className:"carts__main-container",children:[Object(i.jsx)("div",{className:"carts__container",children:c.map((function(e){return Object(i.jsx)(be,{cart:e,handleCartAction:j},e.id)}))}),Object(i.jsxs)("div",{"data-cy":"productQauntity",className:"carts__qauntity",children:[Object(i.jsxs)("div",{className:"carts__total-price-container",children:[Object(i.jsx)("h2",{className:"text text--h1",children:"$".concat(n)}),Object(i.jsx)("p",{className:"text text--gray",children:t.length>1?"Total for ".concat(t.length," items"):"Price for 1 item"})]}),Object(i.jsx)("button",{type:"button",className:"carts__button",onClick:function(){o(!0),setTimeout((function(){o(!1)}),1e3)},children:"Checkout"})]})]}),r&&Object(i.jsx)("div",{className:u()("carts__notification",{"carts__notification--active":r}),children:"We are sorry, but this feature is not implemented yet"})]})},pe=(c(52),function(e){var t=e.description,c=e.screen,n=e.screenResolution,a=e.os,s=e.ram,r=e.type,o=e.primary,l=e.capacity;return Object(i.jsxs)("div",{className:"about",children:[Object(i.jsxs)("div",{className:"about__description",children:[Object(i.jsx)("h2",{className:"about__title",children:"About"}),Object(i.jsx)("div",{className:"about__text text","data-cy":"productDescription",children:t})]}),Object(i.jsxs)("div",{className:"about__tech",children:[Object(i.jsx)("h2",{className:"about__title",children:"Tech space"}),Object(i.jsxs)("ul",{className:"about__tech about__tech--container",children:[Object(i.jsxs)("li",{className:"about__info",children:[Object(i.jsx)("p",{className:"text text--gray",children:"Screen"}),Object(i.jsx)("p",{className:"text",children:c})]}),Object(i.jsxs)("li",{className:"about__info",children:[Object(i.jsx)("p",{className:"text text--gray",children:"Resolution"}),Object(i.jsx)("p",{className:"text",children:n})]}),Object(i.jsxs)("li",{className:"about__info",children:[Object(i.jsx)("p",{className:"text text--gray",children:"OS"}),Object(i.jsx)("p",{className:"text",children:a})]}),Object(i.jsxs)("li",{className:"about__info",children:[Object(i.jsx)("p",{className:"text text--gray",children:"Ram"}),Object(i.jsx)("p",{className:"text",children:s})]}),Object(i.jsxs)("li",{className:"about__info",children:[Object(i.jsx)("p",{className:"text text--gray",children:"Battery"}),Object(i.jsx)("p",{className:"text",children:r})]}),Object(i.jsxs)("li",{className:"about__info",children:[Object(i.jsx)("p",{className:"text text--gray",children:"Camera"}),Object(i.jsx)("p",{className:"text",children:o})]}),Object(i.jsxs)("li",{className:"about__info",children:[Object(i.jsx)("p",{className:"text text--gray",children:"Capacity"}),Object(i.jsx)("p",{className:"text",children:l})]})]})]})]})}),he=(c(53),function(){return Object(i.jsxs)("div",{className:"options",children:[Object(i.jsxs)("div",{className:"options__container",children:[Object(i.jsx)("p",{className:"text text--small text--gray",children:"Available colors"}),Object(i.jsxs)("div",{className:"options__select-container",children:[Object(i.jsx)("p",{className:" options__color-button options__color-button--selected",children:Object(i.jsx)("span",{className:"options__color options__color--red"})}),Object(i.jsx)("p",{className:"options__color-button",children:Object(i.jsx)("span",{className:"options__color options__color--green"})}),Object(i.jsx)("p",{className:"options__color-button",children:Object(i.jsx)("span",{className:"options__color options__color--sec"})})]})]}),Object(i.jsxs)("div",{className:"options__container options__container--capacity",children:[Object(i.jsx)("p",{className:"text text--small text--gray",children:"Select capacity"}),Object(i.jsxs)("div",{className:"options__select-container",children:[Object(i.jsx)("p",{className:" options__capacity options__capacity--selected",children:"64 gb"}),Object(i.jsx)("p",{className:"options__capacity",children:"256 gb"}),Object(i.jsx)("p",{className:"options__capacity",children:"512 gb"})]})]})]})}),Oe=(c(54),function(){var e=B(),t=e.productDetails,c=e.selectedProduct,n=e.setSelectedProductId,a=e.isLoading,o=e.randomProducts,j=e.getArrayLength,b=e.isProductNotFound,x=Object(d.useState)(0),m=Object(l.a)(x,2),p=m[0],h=m[1],O=Object(r.r)().productId,_=Object(r.n)().state,f=Object(r.n)(),g=t.android,N=t.battery,v=t.camera,y=t.description,w=t.display,k=t.id,P=t.images,S=g.os,C=N.type,A=v.primary,L=w.screenResolution,E=c.price,I=c.discount,F=c.screen,q=c.capacity,D=c.ram,R=c.name,T=E-E*I/100,M=f.pathname.split("/")[1],K=Object(d.useState)(0),V=Object(l.a)(K,2),$=V[0],U=V[1],H=j(o);Object(d.useEffect)((function(){return O&&n(O),function(){n("")}}),[O,n]);return Object(i.jsx)("section",{className:"details",children:a?Object(i.jsx)(z,{}):b?Object(i.jsxs)("div",{children:[Object(i.jsx)(xe,{}),Object(i.jsx)("h2",{children:"Phone was not found"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"details__bread-crumbs","data-cy":"breadCrumbs",children:[Object(i.jsx)(s.b,{to:"/",children:Object(i.jsx)("span",{className:"icon icon--home"})}),Object(i.jsx)("span",{className:"icon icon--arrow-dis icon--next"}),Object(i.jsx)(s.b,{to:{pathname:"..",search:null===_||void 0===_?void 0:_.search},className:"text text--small",children:M}),Object(i.jsx)("span",{className:"icon icon--arrow-dis icon--next"}),Object(i.jsx)("p",{className:"text text--small text--gray",children:R.toLowerCase()})]}),Object(i.jsx)(xe,{}),Object(i.jsx)("h1",{className:"details__title text text--h1",children:R.toLowerCase()}),Object(i.jsxs)("section",{className:"details__main-container",children:[Object(i.jsx)("ul",{className:"details__images-container",children:P.map((function(e,t){return Object(i.jsx)("li",{className:u()("details__image-container",{"details__image-container--selected":p===t}),children:Object(i.jsx)("a",{href:"/",type:"button",onClick:function(e){return function(e,t){e.preventDefault(),h(t)}(e,t)},children:Object(i.jsx)("img",{className:"details__img",src:"img/products/".concat(k,".").concat(t,".jpg"),alt:"img"})})},e)}))}),Object(i.jsx)("div",{className:"details__selected-img-container",children:Object(i.jsx)("img",{src:"img/products/".concat(t.id,".").concat(p,".jpg"),alt:"img",className:"details__img details__img--selected"})}),Object(i.jsxs)("div",{className:"details__inner-container",children:[Object(i.jsx)(he,{}),Object(i.jsxs)("div",{className:"details__info-container",children:[Object(i.jsxs)("div",{className:"details__price-container",children:[I>0&&Object(i.jsx)("p",{className:"text text--h1",children:"$".concat(T)}),Object(i.jsx)("p",{className:u()("text","text--h1",{"text--h2-strikethrough":I>0},{"text--gray":I>0}),children:"$".concat(E)})]}),Object(i.jsx)(J,{name:"details",product:c}),Object(i.jsxs)("ul",{className:"details__info-container",children:[Object(i.jsxs)("li",{className:"details__info",children:[Object(i.jsx)("p",{className:"text text--gray text--small",children:"Screen"}),Object(i.jsx)("p",{className:"text text--small",children:F})]}),Object(i.jsxs)("li",{className:"details__info",children:[Object(i.jsx)("p",{className:"text text--gray text--small",children:"Resolution"}),Object(i.jsx)("p",{className:"text text--small",children:L})]}),Object(i.jsxs)("li",{className:"details__info",children:[Object(i.jsx)("p",{className:"text text--gray text--small",children:"OS"}),Object(i.jsx)("p",{className:"text text--small",children:S})]}),Object(i.jsxs)("li",{className:"details__info",children:[Object(i.jsx)("p",{className:"text text--gray text--small",children:"Ram"}),Object(i.jsx)("p",{className:"text text--small",children:D})]})]})]})]})]}),Object(i.jsx)(pe,{description:y,screen:F,screenResolution:L,os:S,ram:D,type:C,primary:A,capacity:q}),Object(i.jsxs)("div",{className:"details__carousel-container",children:[Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h2",{children:"You may also like"}),Object(i.jsx)(W,{currentSlide:$,setCurrentSlide:U,length:H})]}),Object(i.jsx)(Y,{products:o,currentSlide:$,id:"random"})]})]})})}),_e=function(){return Object(i.jsx)(s.a,{children:Object(i.jsx)(T,{children:Object(i.jsx)(r.e,{children:Object(i.jsxs)(r.c,{path:"/",element:Object(i.jsx)(V,{}),children:[Object(i.jsx)(r.c,{index:!0,element:Object(i.jsx)(Z,{})}),Object(i.jsxs)(r.c,{path:"phones",children:[Object(i.jsx)(r.c,{index:!0,element:Object(i.jsx)(oe,{})}),Object(i.jsx)(r.c,{path:":productId",element:Object(i.jsx)(Oe,{})})]}),Object(i.jsxs)(r.c,{path:"tablets",children:[Object(i.jsx)(r.c,{index:!0,element:Object(i.jsx)(le,{})}),Object(i.jsx)(r.c,{path:":productId",element:Object(i.jsx)(Oe,{})})]}),Object(i.jsxs)(r.c,{path:"accessories",children:[Object(i.jsx)(r.c,{index:!0,element:Object(i.jsx)(je,{})}),Object(i.jsx)(r.c,{path:":productId",element:Object(i.jsx)(Oe,{})})]}),Object(i.jsxs)(r.c,{path:"favourites",children:[Object(i.jsx)(r.c,{index:!0,element:Object(i.jsx)(de,{})}),Object(i.jsx)(r.c,{path:":productId",element:Object(i.jsx)(Oe,{})})]}),Object(i.jsx)(r.c,{path:"cart",children:Object(i.jsx)(r.c,{index:!0,element:Object(i.jsx)(me,{})})}),Object(i.jsx)(r.c,{path:"home",element:Object(i.jsx)(r.a,{to:"/",replace:!0})}),Object(i.jsx)(r.c,{path:"*",element:Object(i.jsx)(ue,{})})]})})})})};a.a.render(Object(i.jsx)(_e,{}),document.getElementById("root"))}]),[[55,1,2]]]);
//# sourceMappingURL=main.143aaf56.chunk.js.map